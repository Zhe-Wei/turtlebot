<launch>
    <param name="/use_sim_time" value="true"/>

    <!-- Run the map server -->
    <node name="map_server" pkg="map_server" type="map_server" args="$(find turtlebot3_navigation)/maps/map.yaml" >
        <param name="frame_id" value="/map" />
    </node>

    <group ns="robot_0">
        <param name="tf_prefix" value="robot_0" />
        <param name="amcl/initial_pose_x" value="1" />
        <param name="amcl/initial_pose_y" value="1" />
        <include file="$(find turtlebot_sim)/launch/move_base.launch" />
    </group>

    <group ns="robot_1">
        <param name="tf_prefix" value="robot_1" />
        <param name="amcl/initial_pose_x" value="-1" />
        <param name="amcl/initial_pose_y" value="1" />
        <include file="$(find turtlebot_sim)/launch/move_base.launch" />
    </group>

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find turtlebot3_gazebo)/rviz/multi_robot.rviz"
    output="screen" />
    <node pkg="rqt_graph" type="rqt_graph" name="rqt_graph" output="screen" />
</launch>